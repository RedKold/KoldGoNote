## 复习规划
- [x] Chapter 2 线性规划
1. [x] 线性规划问题及其数学模型 2.1（重点）
2. [x] 用单纯形表进行计算 2.4、2.5（重点）
3. [x] 图解法第 2.1.2 节
## 线性规划模型如下所示
$$
\begin{align}
\max z=c_{1}x_{1}+c_{2}x_{2}+\cdots+c_{n}x_{n} \\
\begin{cases}
a_{11}+a_{12}+\cdots+a_{1n}x_{n}=b_{1} \\
a_{21}+a_{22}+\cdots+a_{2n}x_{n}=b_{2} \\
 \\
a_{m_{1}}+a_{m_{2}}+\cdots+a_{mn}x_{n}=bm \\
x_{1},x_{2},\dots,x_{n}\geq 0
\end{cases}
\end{align}

$$
矩阵描述
$$
\begin{align}
\max z=CX \\
AX=b \\
X\geq 0
\end{align}
$$

## 单纯形法计算步骤：
![[356c85220598e4bfa693297f39515a8c_720.png|500]]

---
## 单纯形表
![[Pasted image 20250106110911.png]]
以下讨论都在转化为最大化 $\max$ 标准形式展开。
$\min z$ 下，检验数选择正的，$\theta$ 求最大。相反的

### 检验数（reduced cost）
- $\sigma _j=c_{j}-z_{j}=c_{j}-\sum_{i=1}^mc_{i}a_{ij}$ 
	- 如果 $\forall \sigma_{j},\sigma_{j}\leq0,\text{and } \exists x \in B,x不为0，是人工变量$ 说明**无可行解**
	- 如果 $\exists \sigma_{l}=0$ 是某非基变量的检验数，那么有**无穷多解**(这说明它也可以作为基，那么张成一个无穷大的解空间)
- 确认换入变量的小细节
	- 选择 $\sigma_{k}=\max{\sigma_{j}}$, 若有多个，选择下标最小的 $k$ ，$x_{k}$ 为换入变量
- 换出变量 (*最小比值试算*)
	- 选择 $\theta=\min\left\{ \dfrac{b_{i}}{a_{ik}}|a_{ik}>0 \right\}=\dfrac{b_{l}}{a_{ik}}$ （是 b 比上 a 哦!!!）
	- $\theta$ 的最小化是为了保证换入换出后，所有约束条件仍满足 
	- 单纯形法相当于在可行域内移动，$\theta$ 优化确定了可以移动多少而不逾越
	- ***最小比值试算***：我们让一个检验数 $\sigma_{p}> 0$ 的 $x_{p}$ 作为入基变量，那么我们希望 $x_{p}$ 的 $value$ 增大，且增大越多 $\max z$ 增加的就越多。**但是**在这种情况下要仍然维持变量的**非负性**，这就需要比值检验。
	- ![[Pasted image 20250106113448.png|500]]
	- 已经总结出来就是换入变量 $x_{p}$ 必须满足
$$
\begin{align}
\forall x_{i} \in X_{B} \\
b_{i}-a_{ip}x_{p}\geq 0 \tag{1}\\
\text{(1) holds right  if $a_{ip}\leq0$ is trival}\\
\text{that is: }\;x_{p}\leq \frac{b}{a_{ip}} \\
\text{we need it satisfy all $x_{i}$},\\
x_{p}=\min\left\{ \frac{b_{i}}{a_{ip}},a_{ip}> 0 \right\} 
\end{align}
$$

- 在每一步迭代，都列出当前的基变量 $X^{(k)}$ 和   $z=CX^{(k)}$ 的值

## 转化标准型的问题
![[Pasted image 20250106103621.png|500]]
## 人工变量的两种处理

传统的单纯形法无法有效界定无界解、无可行解，需要借助人工变量
#### 大 M 法
这个方法的主要特点是：加入的人工变量统一赋价值系数 $-M$，所以要求出 $\max z=CX$, 那么人工变量一定不在最优解的基变量中。
*如何加入人工变量？*
见上面那个图：
- 约束条件为 $\geq$ ，减去 1 个松弛变量，加上 1 个人工变量
- 约束条件为 $=$，加上 1 个人工变量。
这样才能保证可以用人工变量构建一个**初始可行基**$X^{(0)}$
因此，如果最后迭代到检验数都小于零，仍然存在系数不为 0 的人工变量 $x_{N}$，则此题无解，
#### 两阶段法
加入人工变量后，
第一阶段：构建如下的线性规划问题
$$
\begin{align}
&\min \omega=\sum人工变量x_{i} +\sum 价值系数0\cdot其他变量x_{j}&  \\
&\begin{cases}
约束条件同原问题 \\
\forall x_{i}\in X,x _{i}\geq 0
\end{cases}
\end{align}
$$
用线性规划求解这个问题。
- 如果 $\min \omega=0$，且有 $x_{i}\geq 0$，故所有人工变量的值都为 $0$ 说明人工变量可以全部换出，原线性规划问题有可行解，且初始可行基 $X^{(0)}$
- Otherwise，无可行解。

第二阶段：
以第一阶段求出的 $X^{(0)}$ 为初始可行基，并删去人工变量两列（已经没用了）
之后同一般的单纯形法计算。

## 图解法
适用于二元的。
画第一象限（代表 $x_{1},x_{2}\geq0$），然后将目标函数 $$z=c_{1}x_{1}+c_{2}x_{2}$$
视为以 $z$ 为参数的函数，z 的变化引起直线的平移，z 是一个关于截距 $b$ 的线性函数，那么很方便求出了。

平移的范围何在?
每个约束条件都是一个半平面.
如 $x_{1}+x_{2}\leq8$ 就代表以直线 $x_{1}+x_{2}=8$ 为边界的左下方的半平面。

所有约束条件和变量非负性条件围成的区域，就是 **可行解集合**，称为 **可行域**

- 可行域为空集合 $\phi$ <->无可行解
- 可行域无界<->无界解
- 可行

